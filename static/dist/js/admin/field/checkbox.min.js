define(["jquery-nos"],function($){"use strict";return function($field,options,is_new,is_expert){var $choices=getFieldProperty($field,"field_choices");$choices.on("blur change keyup",generateFieldDefaultValue);generateFieldDefaultValue();function generateFieldDefaultValue(){var $default_value=getFieldProperty($field,"field_default_value");var default_value_value=$default_value.val();if(default_value_value.match(/^[0-9,]+$/)){default_value_value=default_value_value.split(",")}else{default_value_value=default_value_value.split("\n")}var $new=$("<div />").css({paddingLeft:6,borderLeft:"1px solid #aaa",margin:"5px 0 5px 2px"});$new.append('<input type="hidden" size="1" name="'+$default_value.attr("name")+'" value=""  />');$.each($choices.val().split("\n"),function(index,choice){var value=index;var parts=choice.split("=");if(parts.length>1){value=parts.pop()}var text=parts.join("=");$new.append($("<label />").append($('<input type="checkbox" class="checkbox" size="1" value="'+value+'" '+(-1!==$.inArray(value,default_value_value)?"checked":"")+"> "),text),$("<br />"))});var $parent=$default_value.closest("span");$parent.empty().append($new).nosFormUI();var $checkboxes=$new.find("input.checkbox");$checkboxes.on("change",function(e){var value=[];$checkboxes.filter(":checked").each(function(){value.push($(this).val())});$new.find('input[type="hidden"]:first').val(value.join(","));$field.trigger("refreshPreview")});$checkboxes.first().trigger("change")}};function getFieldProperty($context,field_name){return $context.find('[name*="['+field_name+']"]')}});
//# sourceMappingURL=checkbox.min.js.map