(function(window,document,undefined){loadRequirements([{url:"static/apps/noviusos_form/dist/vendor/jquery.min.js",check:function(){return typeof window.jQuery!=="undefined"}},{url:"static/apps/noviusos_form/dist/vendor/parsley.min.js",check:function(){return typeof $.fn.parsley!=="undefined"}}],function(){init(jQuery)});function init($){$(function(){$(".noviusos_form form.nos-form-layout").each(function(){var $form=$(this);var $captcha=$form.find("#form_captcha");var good_anwser=$captcha.size()?$captcha.data("captcha").split("-")[1]:null;window.Parsley.setLocale($form.data("locale")||"en");$captcha.on("blur",function(){if($(this).val()!=good_anwser){this.setCustomValidity($captcha.data("customValidity"))}else{this.setCustomValidity("")}});var $sections=$form.find(".page_break");var $controls=$form.find(".page_break_control");function navigateTo(index){if(index<0){index=0}$sections.removeClass("current").eq(index).addClass("current");$controls.find(".page_break_previous").toggle(index>0);var atTheEnd=index>=$sections.length-1;$controls.find(".page_break_next").toggle(!atTheEnd);$controls.find("[type=submit]").toggle(atTheEnd);$controls.find("#progress").val(index+1);$controls.find(".page_break_current").text(index+1)}function curIndex(){return $sections.index($sections.filter(".current"))}$(".page_break_control .page_break_previous").click(function(event){event.preventDefault();navigateTo(curIndex()-1)});$(".page_break_control .page_break_next").click(function(){if($form.parsley().validate({group:"block-"+curIndex()}))navigateTo(curIndex()+1)});$sections.each(function(index,section){$(section).find(":input").attr("data-parsley-group","block-"+index)});var defaultPage=$sections.filter(".current").index()-1;navigateTo(defaultPage)})})}function addScript(src,callback){(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src=src;g.onload=callback;g.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){callback()}};s.parentNode.insertBefore(g,s)})(document,"script")}function loadRequirements(requirements,callback){if(!requirements.length){callback()}else{var requirement=requirements.shift();if(requirement.check()){loadRequirements(requirements,callback)}else{addScript(requirement.url,function(){loadRequirements(requirements,callback)})}}}})(window,document);function init_form_condition(json){$(document).ready(function(){check_option(json)});$('[name^="'+json.inputname+'"]').on("keyup input change",function(){check_option(json)})}function check_option(json){var $conditionnal_input=$('[name^="'+json.condition+'"]');if($conditionnal_input.data("required")==undefined){if($conditionnal_input.attr("required")==undefined){$conditionnal_input.data("required","")}else{$conditionnal_input.data("required",$conditionnal_input.attr("required"))}}var todo="nothing";var $input=$('[name="'+json.inputname+'"]');if($input){switch($input.prop("tagName")){case"radio":if($input.is('[value="'+json.value+'"]:checked')){todo="show"}else{todo="hide"}break;case"checkbox":if($input.is('[value="'+json.value+'"]:checked')){todo="show"}else{todo="hide"}break;default:if($input.val()==json.value){todo="show"}else{todo="hide"}}}var $conditionnal_elements=$conditionnal_input.closest(".nos_form_field");switch(todo){case"show":$conditionnal_elements.removeClass("nos_form_disabled").addClass("nos_form_enabled");if($conditionnal_input.data("required")!=""){$conditionnal_input.attr("required","required")}break;case"hide":$conditionnal_elements.addClass("nos_form_disabled").removeClass("nos_form_enabled");if($conditionnal_input.data("required")!=""){$conditionnal_input.removeAttr("required")}break}}
//# sourceMappingURL=form.min.js.map